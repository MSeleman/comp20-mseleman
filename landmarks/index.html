<!DOCTYPE html>

<html>

	<head>
		<title>Geolocation Map Example</title>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
		<link rel="stylesheet" href="style.css" />
		<meta charset="utf-8">
		<script>
			var map;
			var lat = 0;
			var lng = 0;
			var infowindow = new google.maps.InfoWindow();

      		function getMyLocation(){
      			if(navigator.geolocation) {

      				navigator.geolocation.getCurrentPosition(function(pos) {
      					lat = pos.coords.latitude;
      					lng = pos.coords.longitude;
      					setLocation();
      				});
      			}
      		}

      		function init() {
       			map = new google.maps.Map(document.getElementById("map"), {
         		center: {lat: lat, lng: lng},
        		zoom: 8
       	 		});

       	 		getMyLocation();
      		}

      		function setLocation() {
      			var me = new google.maps.LatLng(lat, lng);
      			var infowindow;


      			map.PanTo(me);
      			var marker = new google.maps.Marker({
      				position: me,
      				title: "HI"

      			});
      			marker.setMap(map);

      			google.maps.event.addListener(marker, 'click', function() {
					infowindow.setContent(marker.title);
					infowindow.open(map, marker);
				});
      		}


   		</script>
		<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB6G5DzhxTBUWyUl1l4rtUCH4shvbsf8LM&callback=init"
		 async defer> </script>

	</head>
	
	<body onload="init()">
		<div id="map"></div>
	</body>
</html>
